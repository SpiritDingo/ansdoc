### **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ Ansible Playbook –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –≥—Ä—É–ø–ø—É —Å–µ—Ä–≤–µ—Ä–æ–≤**

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `web`, `db`, `prod`, `dev`), –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å playbook **—Ç–æ–ª—å–∫–æ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É**. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤.

---

## **1. –ó–∞–ø—É—Å–∫ –Ω–∞ –≥—Ä—É–ø–ø—É –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞**
–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å `inventory.ini`:
```ini
[web]
web1.example.com
web2.example.com

[db]
db1.example.com
db2.example.com

[prod:children]
web
db

[dev]
dev1.example.com
```

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –£–∫–∞–∑–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ –∫–æ–º–∞–Ω–¥–µ (`-l` –∏–ª–∏ `--limit`)**
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "web"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏–∑ –≥—Ä—É–ø–ø—ã `web`**.

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –≥—Ä—É–ø–ø–∞–º**
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "web,db"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏–∑ –≥—Ä—É–ø–ø `web` –∏ `db`.

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã (`!`)**
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "all:!dev"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ **–≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö, –∫—Ä–æ–º–µ `dev`**.

---

## **2. –ó–∞–ø—É—Å–∫ –Ω–∞ –≥—Ä—É–ø–ø—É —á–µ—Ä–µ–∑ `hosts:` –≤ playbook**
–ï—Å–ª–∏ –≤ `playbook.yml` —É–∫–∞–∑–∞–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞:
```yaml
- hosts: web  # <- —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø–∞ 'web'
  tasks:
    - name: Ensure Nginx is installed
      apt:
        name: nginx
        state: present
```
‚Üí Playbook **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≥—Ä—É–ø–ø–µ `web`**, –¥–∞–∂–µ –±–µ–∑ `--limit`.

---

## **3. –ó–∞–ø—É—Å–∫ –Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `prod:children`)**
–ï—Å–ª–∏ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ –µ—Å—Ç—å –≥—Ä—É–ø–ø–∞ `prod`, –≤–∫–ª—é—á–∞—é—â–∞—è `web` –∏ `db`:
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "prod"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ **–≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏–∑ `web` –∏ `db`**.

---

## **4. –ó–∞–ø—É—Å–∫ –Ω–∞ –≥—Ä—É–ø–ø—É + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**
### **–¢–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã**
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "web:web1.example.com"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ `web1.example.com` –∏–∑ –≥—Ä—É–ø–ø—ã `web`**.

### **–°–æ—á–µ—Ç–∞–Ω–∏–µ —Å —Ç–µ–≥–∞–º–∏ (`--tags`)**
```bash
ansible-playbook -i inventory.ini playbook.yml --limit "web" --tags "nginx"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç **—Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ —Å —Ç–µ–≥–æ–º `nginx` –Ω–∞ –≥—Ä—É–ø–ø–µ `web`**.

---

## **5. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (AWS, Cloud –∏ –¥—Ä.)**
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, AWS EC2), –º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–µ–≥–∞–º:
```bash
ansible-playbook -i aws_ec2.yml playbook.yml --limit "tag_group_web"
```
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ –∏–Ω—Å—Ç–∞–Ω—Å–∞—Ö —Å —Ç–µ–≥–æ–º `group=web`**.

---

## **–ò—Ç–æ–≥: –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ansible-playbook -i inventory.ini playbook.yml --limit "web"` | –¢–æ–ª—å–∫–æ –≥—Ä—É–ø–ø–∞ `web` |
| `ansible-playbook -i inventory.ini playbook.yml --limit "web,db"` | –ì—Ä—É–ø–ø—ã `web` –∏ `db` |
| `ansible-playbook -i inventory.ini playbook.yml --limit "all:!dev"` | –í—Å–µ, –∫—Ä–æ–º–µ `dev` |
| `ansible-playbook -i inventory.ini playbook.yml --limit "prod"` | –í–ª–æ–∂–µ–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞ (`prod:children`) |
| `ansible-playbook -i inventory.ini playbook.yml --limit "web:web1"` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –≤ –≥—Ä—É–ø–ø–µ |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –Ω–∞ production-—Å–µ—Ä–≤–µ—Ä–∞—Ö
ansible-playbook -i inventory.ini deploy.yml --limit "prod"

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –Ω–∞ web-—Å–µ—Ä–≤–µ—Ä–∞—Ö, –∫—Ä–æ–º–µ web2
ansible-playbook -i inventory.ini deploy.yml --limit "web:!web2.example.com"

# –ó–∞–ø—É—Å–∫ —Å —Ç–µ–≥–∞–º–∏ –Ω–∞ –≥—Ä—É–ø–ø–µ db
ansible-playbook -i inventory.ini db_setup.yml --limit "db" --tags "mysql"
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –Ω–∞ –∫–∞–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è playbook. üöÄ